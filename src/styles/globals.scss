/**
 * ---------------------------------------------------------------------
 * globals.scss
 * ---------------------------------------------------------------------
 * Global style definitions and base theme setup for Boreal UI.
 * This file is responsible for setting:
 * 
 * 1. CSS Variables (`:root`) — Derived from SCSS theme tokens
 *    - Automatically syncs SCSS color and font variables to global CSS variables
 *    - Enables theming and dynamic runtime overrides
 *
 * 2. Global Element Styles
 *    - `body`, headings (`h1–h6`), paragraphs, links, and layout defaults
 *    - Applies font, color, spacing, and background rules using theme tokens
 *
 * 3. Scrollbar Styling
 *    - Thin scrollbar with custom thumb and track colors
 *    - Supports hiding scrollbars with `.hideScrollbar` utility
 *
 * 4. Focus Outlines
 *    - Custom `:focus` styles using accessible high-contrast outlines
 *
 * 5. Utility Classes
 *    - `.noScroll`: disables scroll overflow
 *    - `.errorMessage`: standardized error message styling
 *    - `.loadingContainer`: centered layout for loading views
 *    - `.sr_only` and `:global(.sr_only)`: accessibility class for screen-reader-only content
 *
 * 6. Mixin: `visually-hidden`
 *    - Reusable mixin for accessibility-hidden content
 *    - Applied via `.sr_only` and `:global(.sr_only)`
 *
 * Dependencies:
 * - Resets: `modern-css-reset`
 * - SCSS Modules: `theme`, `animations`, `breakpoints`
 * - Sass Color Utilities: `sass:color`
 *
 * Note:
 * All transitions use the theme-defined `$transition-default` for consistency.
 * CSS variables allow dynamic switching between light/dark/custom themes.
 */

@use "sass:color";
@use "./theme" as theme;
@use "_animations" as animations;
@use "_breakpoints" as breakpoints;
@use "modern-css-reset";

:root {
  /* ================================
     PRIMARY COLOR PALETTE
  ================================== */
  --primary-color: #{theme.$primary-color};
  --primary-color-light: #{color.adjust(theme.$primary-color, $lightness: 40%)};
  --primary-color-hover: #{color.adjust(theme.$primary-color, $lightness: -10%)};
  --primary-text-color-contrast: #{theme.$text-color-secondary};

  /* ================================a
     SECONDARY COLOR PALETTE
  ================================== */
  --secondary-color: #{theme.$secondary-color};
  --secondary-color-light: #{color.adjust(
      theme.$secondary-color,
      $lightness: 40%
    )};
  --secondary-color-hover: #{color.adjust(
      theme.$secondary-color,
      $lightness: -10%
    )};
  --secondary-text-color: #{theme.$text-color-secondary};

  /* ================================
     TERTIARY COLOR PALETTE
  ================================== */
  --tertiary-color: #{theme.$tertiary-color};
  --tertiary-color-light: #{color.adjust(
      theme.$tertiary-color,
      $lightness: 40%
    )};
  --tertiary-color-hover: #{color.adjust(
      theme.$tertiary-color,
      $lightness: -10%
    )};
  --tertiary-text-color: #{theme.$text-color-primary};

  /* ================================
     QUATERNARY COLOR PALETTE
  ================================== */
  --quaternary-color: #{theme.$quaternary-color};
  --quaternary-color-light: #{color.adjust(
      theme.$quaternary-color,
      $lightness: 40%
    )};
  --quaternary-color-hover: #{color.adjust(
      theme.$quaternary-color,
      $lightness: -10%
    )};
  --quaternary-text-color: #{theme.$text-color-primary};

  /* ================================
     FEEDBACK COLORS
  ================================== */
  --success-color: #{theme.$success-color};
  --success-color-hover: #{color.adjust(theme.$success-color, $lightness: -10%)};
  --warning-color: #{theme.$warning-color};
  --warning-color-hover: #{color.adjust(theme.$warning-color, $lightness: -10%)};
  --error-color: #{theme.$error-color};
  --error-color-hover: #{color.adjust(theme.$error-color, $lightness: -10%)};
  --disabled-color: #{theme.$disabled-color};

  /* ================================
     BACKGROUND COLORS
  ================================== */
  --background-color: #{theme.$background-color};
  --background-color-light: #{color.adjust(
      theme.$background-color,
      $lightness: 10%
    )};
  --background-color-lighter: #{color.adjust(
      theme.$background-color,
      $lightness: 20%
    )};
  --background-color-dark: #{color.adjust(
      theme.$background-color,
      $lightness: -10%
    )};
  --background-color-darker: #{color.adjust(
      theme.$background-color,
      $lightness: -20%
    )};

  /* ================================
     TEXT COLORS
  ================================== */
  --text-color-primary: #{theme.$text-color-primary};
  --text-color: #{theme.$text-color};
  --text-color-light: #{theme.$text-color-light};
  --text-color-lighter: #{theme.$text-color-lighter};

  /* ================================
     LINK COLORS
  ================================== */
  --link-color: #{theme.$link-color};
  --link-hover-color: #{theme.$link-hover-color};
  --link-hover-color-primary: #{theme.$link-hover-color-primary};
  --link-hover-color-secondary: #{theme.$link-hover-color-secondary};

  /* ================================
     FOCUS & INTERACTION
  ================================== */
  --focus-outline-color: var(--text-color-primary);

  /* ===========================
     Border Radius (Rounding)
  =========================== */
  --border-radius-none: 0;
  --border-radius-sm: 4px;
  --border-radius-md: 8px;
  --border-radius-lg: 16px;
  --border-radius-full: 9999px;

  /* ===========================
     Shadows
  =========================== */
  --box-shadow-none: none;
  --box-shadow-light: 0 2px 4px rgb(0 0 0 / 10%);
  --box-shadow-medium: 0 4px 8px rgb(0 0 0 / 20%);
  --box-shadow-heavy: 0 6px 12px rgb(0 0 0 / 30%);
  --box-shadow-intense: 0 8px 16px rgb(0 0 0 / 40%);

  /* ===========================
     Inverted Shadows (Light UI)
  =========================== */
  --box-shadow-inverted-none: none;
  --box-shadow-inverted-light: 0 2px 4px rgb(255 255 255 / 5%);
  --box-shadow-inverted-medium: 0 4px 8px rgb(255 255 255 / 8%);
  --box-shadow-inverted-strong: 0 6px 12px rgb(255 255 255 / 12%);
  --box-shadow-inverted-intense: 0 8px 16px rgb(255 255 255 / 20%);

  /* ===========================
     Divider & Overlay Colors
  =========================== */
  --divider-color: #{color.adjust(theme.$background-color, $lightness: 30%)}; /* subtle dividers */
  --overlay-color: rgb(0 0 0 / 50%); /* for modals or overlays */
  --font-family-primary: #{theme.$font-family-primary};
}

body {
  font-family: var(--font-family-primary);
  font-size: var(--font-size-base);
  color: var(--text-color-primary);
  background-color: var(--background-color);
  margin: 0;
  padding: 0;
  line-height: 1.5;
  overflow-x: hidden;
  transition:
    background-color theme.$transition-default,
    color theme.$transition-default;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: theme.$font-family-primary;
  margin: 0;
  font-weight: theme.$font-weight-bold;
  transition: color theme.$transition-default;
}

h1 {
  font-size: theme.$font-size-xl;
  font-weight: theme.$font-weight-bolder;
  line-height: 1.2;
}

h2 {
  font-size: theme.$font-size-lg;
  font-weight: theme.$font-weight-bolder;
  line-height: 1.3;
}

h3 {
  font-size: theme.$font-size-md;
  line-height: 1.4;
}

h4 {
  font-size: theme.$font-size-base;
  line-height: 1.5;
}

h5,
h6 {
  font-size: theme.$font-size-sm;
  line-height: 1.6;
  font-weight: theme.$font-weight-normal;
}

h6 {
  text-transform: uppercase;
}

p {
  font-size: theme.$font-size-base;
  line-height: 1.6;
  font-weight: 500;
  margin-bottom: theme.$spacing-md;
}

a {
  color: var(--link-color);
  font-weight: theme.$link-font-weight;
  text-decoration: theme.$link-text-decoration;
  transition:
    color theme.$transition-default,
    text-decoration theme.$transition-default;

  &:hover {
    color: var(--link-color-hover);
    text-decoration: theme.$link-hover-decoration;
  }
}

.noScroll {
  overflow: hidden;
}

.errorMessage {
  color: theme.$error-color;
  font-size: theme.$font-size-sm;
}

.loadingContainer {
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 1.5rem;
}

* {
  scrollbar-width: thin;
  scrollbar-color: var(--primary-color) var(--background-color-light);
}

*:focus {
  outline: 2px solid var(--focus-outline-color);
  outline-offset: 2px;
}

::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: var(--background-color);
}

::-webkit-scrollbar-thumb {
  background-color: var(--primary-color);
  border-radius: 6px;
  border: 3px solid var(--background-color-light);
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--primary-color-hover);
}

.hideScrollbar {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.hideScrollbar::-webkit-scrollbar {
  display: none;
}

@mixin visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
  clip: rect(0 0 0 0);
  white-space: nowrap;
  border: 0;
}

.sr_only {
  @include visually-hidden;
}

:global(.sr_only) {
  @include visually-hidden;
}
