@use "../../../styles/theme" as theme;
@use "sass:map";
@use "sass:list";

$sizes: (
  "xs": (
    toggle: (
      30px,
      12px,
    ),
    slider: (
      8px,
      8px,
    ),
    translate: 15px,
  ),
  "small": (
    toggle: (
      40px,
      20px,
    ),
    slider: (
      16px,
      16px,
    ),
    translate: 18px,
  ),
  "medium": (
    toggle: (
      50px,
      28px,
    ),
    slider: (
      20px,
      20px,
    ),
    translate: 22px,
  ),
  "large": (
    toggle: (
      60px,
      34px,
    ),
    slider: (
      25px,
      25px,
    ),
    translate: 28px,
  ),
  "xl": (
    toggle: (
      70px,
      44px,
    ),
    slider: (
      30px,
      30px,
    ),
    translate: 32px,
  ),
);

.container {
  display: flex;
  align-items: center;
  gap: theme.$spacing-sm;
}

.toggle_label {
  font-size: theme.$font-size-md;
  color: var(--text-color-primary);
}

.toggle {
  background-color: theme.$disabled-color;
  //border-radius: 50px;
  position: relative;
  cursor: pointer;
  border: none;
  display: flex;
  align-items: center;
  transition: background 0.3s ease-in-out;
  outline: none;

  &_slider {
    background-color: var(--text-color-primary);
    //border-radius: 50%;
    position: absolute;
    left: 4px;
    transition: transform 0.3s ease-in-out;
  }

  &_active {
    background-color: var(--primary-color);
  }

  &_clear .toggle_active {
    border: 1px solid var(--text-color-primary);
  }
}

@each $theme, $color in theme.$themes {
  .toggle_#{$theme} .toggle_active {
    background-color: map.get($color, bg);
  }
}

@each $state, $color in theme.$states {
  .toggle_#{$state} .toggle_active {
    outline: 2px solid map.get($color, border);
  }
}

@each $name, $vals in $sizes {
  .toggle_#{$name} .toggle {
    width: list.nth(map.get($vals, toggle), 1);
    height: list.nth(map.get($vals, toggle), 2);

    &_slider {
      width: list.nth(map.get($vals, slider), 1);
      height: list.nth(map.get($vals, slider), 2);
    }

    &_active .toggle_slider {
      transform: translateX(map.get($vals, translate));
    }
  }
}

.toggle_disabled {
  cursor: not-allowed;
  pointer-events: none;
  opacity: 0.6;
  box-shadow: none;

  .toggle {
    background-color: theme.$disabled-color;
  }
}

@each $key, $value in theme.$rounding {
  .toggle_round-#{$key} {
    border-radius: $value;
    .toggle_slider {
      border-radius: $value;
    }
  }
}

@each $key, $value in theme.$shadow {
  .toggle_shadow-#{$key} {
    box-shadow: $value;
  }
}
